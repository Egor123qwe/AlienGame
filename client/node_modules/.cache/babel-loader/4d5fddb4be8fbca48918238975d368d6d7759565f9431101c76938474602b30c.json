{"ast":null,"code":"import _slicedToArray from\"/Users/igortryhan/Internal/Life/BSUIR/2025/2sem/SPP/AlienGame/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Navigate,useLocation,useParams}from'react-router-dom';import s from'./host.module.css';import CopyToClipboard from'react-copy-to-clipboard';import{useEffect,useState}from'react';import instance,{baseURL}from'../../../../API/API';import{w3cwebsocket as WebSocket}from'websocket';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Host(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFind=_useState2[0],setFind=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var GameWait=function GameWait(value){var ws=new WebSocket('ws://'+baseURL+'wait');ws.onopen=function(){return ws.send(value);};ws.onmessage=function(event){return setFind(true);};return function(){return ws.close();};};useEffect(function(){instance.get('host').then(function(response){setValue(response.data.code);GameWait(response.data.code);}).catch(function(error){});},[]);if(isFind){return/*#__PURE__*/_jsx(Navigate,{to:\"/game/\"+value+\"/host\"});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CopyToClipboard,{text:value,children:/*#__PURE__*/_jsxs(\"div\",{id:s.hostBtn,className:s.btn,children:[/*#__PURE__*/_jsx(\"span\",{className:s.border}),\"code: \",value]})})});}export default Host;","map":{"version":3,"names":["Navigate","useLocation","useParams","s","CopyToClipboard","useEffect","useState","instance","baseURL","w3cwebsocket","WebSocket","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Host","_useState","_useState2","_slicedToArray","isFind","setFind","_useState3","_useState4","value","setValue","GameWait","ws","onopen","send","onmessage","event","close","get","then","response","data","code","catch","error","to","children","text","id","hostBtn","className","btn","border"],"sources":["/Users/igortryhan/Internal/Life/BSUIR/2025/2sem/SPP/AlienGame/client/src/components/home/code/host/host.jsx"],"sourcesContent":["import { Navigate, useLocation, useParams } from 'react-router-dom';\nimport s from './host.module.css';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport { useEffect, useState } from 'react';\nimport instance, { baseURL } from '../../../../API/API';\nimport { w3cwebsocket as WebSocket } from 'websocket';\n\nfunction Host() {\n\n  const [isFind, setFind] = useState(false);\n  const [value, setValue] = useState('');\n\n  let GameWait = (value) => {\n      const ws = new WebSocket('ws://' + baseURL + 'wait');\n      ws.onopen = () => ws.send(value) \n      ws.onmessage = (event) => setFind(true)\n      return () => ws.close();\n  }\n\n  useEffect(() => {\n    instance.get('host')\n      .then(response => {\n        setValue(response.data.code)\n        GameWait(response.data.code)\n      })\n      .catch(error => {});\n  }, []);\n\n  if (isFind) {\n    return <Navigate to={\"/game/\" + value + \"/host\"}/>\n  }\n\n  return (\n    <>\n      <CopyToClipboard text={value}>\n        <div id={s.hostBtn} className={s.btn}><span className={s.border}></span>code: {value}</div>\n      </CopyToClipboard>\n    </>\n  );\n}\n\nexport default Host;"],"mappings":"0JAAA,OAASA,QAAQ,CAAEC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACnE,MAAO,CAAAC,CAAC,KAAM,mBAAmB,CACjC,MAAO,CAAAC,eAAe,KAAM,yBAAyB,CACrD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,QAAQ,EAAIC,OAAO,KAAQ,qBAAqB,CACvD,OAASC,YAAY,GAAI,CAAAC,SAAS,KAAQ,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEtD,QAAS,CAAAC,IAAIA,CAAA,CAAG,CAEd,IAAAC,SAAA,CAA0BZ,QAAQ,CAAC,KAAK,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,MAAM,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAA0BjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB,GAAI,CAAAG,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIF,KAAK,CAAK,CACtB,GAAM,CAAAG,EAAE,CAAG,GAAI,CAAAlB,SAAS,CAAC,OAAO,CAAGF,OAAO,CAAG,MAAM,CAAC,CACpDoB,EAAE,CAACC,MAAM,CAAG,iBAAM,CAAAD,EAAE,CAACE,IAAI,CAACL,KAAK,CAAC,GAChCG,EAAE,CAACG,SAAS,CAAG,SAACC,KAAK,QAAK,CAAAV,OAAO,CAAC,IAAI,CAAC,GACvC,MAAO,kBAAM,CAAAM,EAAE,CAACK,KAAK,CAAC,CAAC,GAC3B,CAAC,CAED5B,SAAS,CAAC,UAAM,CACdE,QAAQ,CAAC2B,GAAG,CAAC,MAAM,CAAC,CACjBC,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAChBV,QAAQ,CAACU,QAAQ,CAACC,IAAI,CAACC,IAAI,CAAC,CAC5BX,QAAQ,CAACS,QAAQ,CAACC,IAAI,CAACC,IAAI,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,CAAI,CAAC,CAAC,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAInB,MAAM,CAAE,CACV,mBAAOT,IAAA,CAACZ,QAAQ,EAACyC,EAAE,CAAE,QAAQ,CAAGhB,KAAK,CAAG,OAAQ,CAAC,CAAC,CACpD,CAEA,mBACEb,IAAA,CAAAI,SAAA,EAAA0B,QAAA,cACE9B,IAAA,CAACR,eAAe,EAACuC,IAAI,CAAElB,KAAM,CAAAiB,QAAA,cAC3B5B,KAAA,QAAK8B,EAAE,CAAEzC,CAAC,CAAC0C,OAAQ,CAACC,SAAS,CAAE3C,CAAC,CAAC4C,GAAI,CAAAL,QAAA,eAAC9B,IAAA,SAAMkC,SAAS,CAAE3C,CAAC,CAAC6C,MAAO,CAAO,CAAC,SAAM,CAACvB,KAAK,EAAM,CAAC,CAC5E,CAAC,CAClB,CAAC,CAEP,CAEA,cAAe,CAAAR,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}